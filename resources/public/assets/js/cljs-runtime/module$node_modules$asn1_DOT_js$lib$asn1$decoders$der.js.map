{
"version":3,
"file":"module$node_modules$asn1_DOT_js$lib$asn1$decoders$der.js",
"lineCount":198,
"mappings":"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",
"sources":["node_modules/asn1_DOT_js/lib/asn1/decoders/der.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$asn1_DOT_js$lib$asn1$decoders$der\"] = function(global,require,module,exports) {\nvar inherits = require('inherits');\n\nvar asn1 = require('../../asn1');\nvar base = asn1.base;\nvar bignum = asn1.bignum;\n\n// Import DER constants\nvar der = asn1.constants.der;\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n};\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!(data instanceof base.DecoderBuffer))\n    data = new base.DecoderBuffer(data, options);\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  base.Node.call(this, 'der', parent);\n}\ninherits(DERNode, base.Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  var state = buffer.save();\n  var decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  var decodedTag = derDecodeTag(buffer,\n                                'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  var len = derDecodeLen(buffer,\n                         decodedTag.primitive,\n                         'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  var state = buffer.save();\n  var res = this._skipUntilEnd(\n      buffer,\n      'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  while (true) {\n    var tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    var len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    var res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len)\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n                                                    options) {\n  var result = [];\n  while (!buffer.isEmpty()) {\n    var possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    var res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    var unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    var raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    var str = '';\n    for (var i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    var numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    var printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  var result;\n  var identifiers = [];\n  var ident = 0;\n  while (!buffer.isEmpty()) {\n    var subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  var first = (identifiers[0] / 40) | 0;\n  var second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    var tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  var str = buffer.raw().toString();\n  if (tag === 'gentime') {\n    var year = str.slice(0, 4) | 0;\n    var mon = str.slice(4, 6) | 0;\n    var day = str.slice(6, 8) | 0;\n    var hour = str.slice(8, 10) | 0;\n    var min = str.slice(10, 12) | 0;\n    var sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    var year = str.slice(0, 2) | 0;\n    var mon = str.slice(2, 4) | 0;\n    var day = str.slice(4, 6) | 0;\n    var hour = str.slice(6, 8) | 0;\n    var min = str.slice(8, 10) | 0;\n    var sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull(buffer) {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  var res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  var raw = buffer.raw();\n  var res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  var tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  var cls = der.tagClass[tag >> 6];\n  var primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    var oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  var tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  var len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  var num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (var i = 0; i < num; i++) {\n    len <<= 8;\n    var j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","DERDecoder","entity","enc","name","tree","DERNode","_init","body","parent","base","Node","call","derDecodeTag","buf","fail","tag","readUInt8","isError","cls","der","tagClass","primitive","oct","tagStr","derDecodeLen","len","num","error","i","j","inherits","asn1","bignum","constants","prototype","decode","DERDecoder.prototype.decode","data","options","DecoderBuffer","_decode","_peekTag","DERNode.prototype._peekTag","buffer","any","isEmpty","state","save","decodedTag","restore","_decodeTag","DERNode.prototype._decodeTag","skip","res","_skipUntilEnd","offset","DERNode.prototype._skipUntilEnd","_decodeList","DERNode.prototype._decodeList","decoder","result","possibleEnd","push","_decodeStr","DERNode.prototype._decodeStr","unused","raw","length","str","String","fromCharCode","readUInt16BE","numstr","toString","_isNumstr","printstr","_isPrintstr","test","_decodeObjid","DERNode.prototype._decodeObjid","values","relative","identifiers","ident","subident","first","second","concat","slice","tmp","join","undefined","_decodeTime","DERNode.prototype._decodeTime","year","mon","day","hour","min","sec","Date","UTC","_decodeNull","DERNode.prototype._decodeNull","_decodeBool","DERNode.prototype._decodeBool","_decodeInt","DERNode.prototype._decodeInt","_use","DERNode.prototype._use","obj","_getDecoder"]
}
