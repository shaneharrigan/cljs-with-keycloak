{
"version":3,
"file":"module$node_modules$asn1_DOT_js$lib$asn1$base$node.js",
"lineCount":358,
"mappings":"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",
"sources":["node_modules/asn1_DOT_js/lib/asn1/base/node.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$asn1_DOT_js$lib$asn1$base$node\"] = function(global,require,module,exports) {\nvar Reporter = require('../base').Reporter;\nvar EncoderBuffer = require('../base').EncoderBuffer;\nvar DecoderBuffer = require('../base').DecoderBuffer;\nvar assert = require('minimalistic-assert');\n\n// Supported tags\nvar tags = [\n  'seq', 'seqof', 'set', 'setof', 'objid', 'bool',\n  'gentime', 'utctime', 'null_', 'enum', 'int', 'objDesc',\n  'bitstr', 'bmpstr', 'charstr', 'genstr', 'graphstr', 'ia5str', 'iso646str',\n  'numstr', 'octstr', 'printstr', 't61str', 'unistr', 'utf8str', 'videostr'\n];\n\n// Public methods list\nvar methods = [\n  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',\n  'any', 'contains'\n].concat(tags);\n\n// Overrided methods list\nvar overrided = [\n  '_peekTag', '_decodeTag', '_use',\n  '_decodeStr', '_decodeObjid', '_decodeTime',\n  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',\n\n  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',\n  '_encodeNull', '_encodeInt', '_encodeBool'\n];\n\nfunction Node(enc, parent) {\n  var state = {};\n  this._baseState = state;\n\n  state.enc = enc;\n\n  state.parent = parent || null;\n  state.children = null;\n\n  // State\n  state.tag = null;\n  state.args = null;\n  state.reverseArgs = null;\n  state.choice = null;\n  state.optional = false;\n  state.any = false;\n  state.obj = false;\n  state.use = null;\n  state.useDecoder = null;\n  state.key = null;\n  state['default'] = null;\n  state.explicit = null;\n  state.implicit = null;\n  state.contains = null;\n\n  // Should create new instance on each method\n  if (!state.parent) {\n    state.children = [];\n    this._wrap();\n  }\n}\nmodule.exports = Node;\n\nvar stateProps = [\n  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',\n  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',\n  'implicit', 'contains'\n];\n\nNode.prototype.clone = function clone() {\n  var state = this._baseState;\n  var cstate = {};\n  stateProps.forEach(function(prop) {\n    cstate[prop] = state[prop];\n  });\n  var res = new this.constructor(cstate.parent);\n  res._baseState = cstate;\n  return res;\n};\n\nNode.prototype._wrap = function wrap() {\n  var state = this._baseState;\n  methods.forEach(function(method) {\n    this[method] = function _wrappedMethod() {\n      var clone = new this.constructor(this);\n      state.children.push(clone);\n      return clone[method].apply(clone, arguments);\n    };\n  }, this);\n};\n\nNode.prototype._init = function init(body) {\n  var state = this._baseState;\n\n  assert(state.parent === null);\n  body.call(this);\n\n  // Filter children\n  state.children = state.children.filter(function(child) {\n    return child._baseState.parent === this;\n  }, this);\n  assert.equal(state.children.length, 1, 'Root node can have only one child');\n};\n\nNode.prototype._useArgs = function useArgs(args) {\n  var state = this._baseState;\n\n  // Filter children and args\n  var children = args.filter(function(arg) {\n    return arg instanceof this.constructor;\n  }, this);\n  args = args.filter(function(arg) {\n    return !(arg instanceof this.constructor);\n  }, this);\n\n  if (children.length !== 0) {\n    assert(state.children === null);\n    state.children = children;\n\n    // Replace parent to maintain backward link\n    children.forEach(function(child) {\n      child._baseState.parent = this;\n    }, this);\n  }\n  if (args.length !== 0) {\n    assert(state.args === null);\n    state.args = args;\n    state.reverseArgs = args.map(function(arg) {\n      if (typeof arg !== 'object' || arg.constructor !== Object)\n        return arg;\n\n      var res = {};\n      Object.keys(arg).forEach(function(key) {\n        if (key == (key | 0))\n          key |= 0;\n        var value = arg[key];\n        res[value] = key;\n      });\n      return res;\n    });\n  }\n};\n\n//\n// Overrided methods\n//\n\noverrided.forEach(function(method) {\n  Node.prototype[method] = function _overrided() {\n    var state = this._baseState;\n    throw new Error(method + ' not implemented for encoding: ' + state.enc);\n  };\n});\n\n//\n// Public methods\n//\n\ntags.forEach(function(tag) {\n  Node.prototype[tag] = function _tagMethod() {\n    var state = this._baseState;\n    var args = Array.prototype.slice.call(arguments);\n\n    assert(state.tag === null);\n    state.tag = tag;\n\n    this._useArgs(args);\n\n    return this;\n  };\n});\n\nNode.prototype.use = function use(item) {\n  assert(item);\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.use = item;\n\n  return this;\n};\n\nNode.prototype.optional = function optional() {\n  var state = this._baseState;\n\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.def = function def(val) {\n  var state = this._baseState;\n\n  assert(state['default'] === null);\n  state['default'] = val;\n  state.optional = true;\n\n  return this;\n};\n\nNode.prototype.explicit = function explicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.explicit = num;\n\n  return this;\n};\n\nNode.prototype.implicit = function implicit(num) {\n  var state = this._baseState;\n\n  assert(state.explicit === null && state.implicit === null);\n  state.implicit = num;\n\n  return this;\n};\n\nNode.prototype.obj = function obj() {\n  var state = this._baseState;\n  var args = Array.prototype.slice.call(arguments);\n\n  state.obj = true;\n\n  if (args.length !== 0)\n    this._useArgs(args);\n\n  return this;\n};\n\nNode.prototype.key = function key(newKey) {\n  var state = this._baseState;\n\n  assert(state.key === null);\n  state.key = newKey;\n\n  return this;\n};\n\nNode.prototype.any = function any() {\n  var state = this._baseState;\n\n  state.any = true;\n\n  return this;\n};\n\nNode.prototype.choice = function choice(obj) {\n  var state = this._baseState;\n\n  assert(state.choice === null);\n  state.choice = obj;\n  this._useArgs(Object.keys(obj).map(function(key) {\n    return obj[key];\n  }));\n\n  return this;\n};\n\nNode.prototype.contains = function contains(item) {\n  var state = this._baseState;\n\n  assert(state.use === null);\n  state.contains = item;\n\n  return this;\n};\n\n//\n// Decoding\n//\n\nNode.prototype._decode = function decode(input, options) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return input.wrapResult(state.children[0]._decode(input, options));\n\n  var result = state['default'];\n  var present = true;\n\n  var prevKey = null;\n  if (state.key !== null)\n    prevKey = input.enterKey(state.key);\n\n  // Check if tag is there\n  if (state.optional) {\n    var tag = null;\n    if (state.explicit !== null)\n      tag = state.explicit;\n    else if (state.implicit !== null)\n      tag = state.implicit;\n    else if (state.tag !== null)\n      tag = state.tag;\n\n    if (tag === null && !state.any) {\n      // Trial and Error\n      var save = input.save();\n      try {\n        if (state.choice === null)\n          this._decodeGeneric(state.tag, input, options);\n        else\n          this._decodeChoice(input, options);\n        present = true;\n      } catch (e) {\n        present = false;\n      }\n      input.restore(save);\n    } else {\n      present = this._peekTag(input, tag, state.any);\n\n      if (input.isError(present))\n        return present;\n    }\n  }\n\n  // Push object on stack\n  var prevObj;\n  if (state.obj && present)\n    prevObj = input.enterObject();\n\n  if (present) {\n    // Unwrap explicit values\n    if (state.explicit !== null) {\n      var explicit = this._decodeTag(input, state.explicit);\n      if (input.isError(explicit))\n        return explicit;\n      input = explicit;\n    }\n\n    var start = input.offset;\n\n    // Unwrap implicit and normal values\n    if (state.use === null && state.choice === null) {\n      if (state.any)\n        var save = input.save();\n      var body = this._decodeTag(\n        input,\n        state.implicit !== null ? state.implicit : state.tag,\n        state.any\n      );\n      if (input.isError(body))\n        return body;\n\n      if (state.any)\n        result = input.raw(save);\n      else\n        input = body;\n    }\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), start, input.length, 'tagged');\n\n    if (options && options.track && state.tag !== null)\n      options.track(input.path(), input.offset, input.length, 'content');\n\n    // Select proper method for tag\n    if (state.any)\n      result = result;\n    else if (state.choice === null)\n      result = this._decodeGeneric(state.tag, input, options);\n    else\n      result = this._decodeChoice(input, options);\n\n    if (input.isError(result))\n      return result;\n\n    // Decode children\n    if (!state.any && state.choice === null && state.children !== null) {\n      state.children.forEach(function decodeChildren(child) {\n        // NOTE: We are ignoring errors here, to let parser continue with other\n        // parts of encoded data\n        child._decode(input, options);\n      });\n    }\n\n    // Decode contained/encoded by schema, only in bit or octet strings\n    if (state.contains && (state.tag === 'octstr' || state.tag === 'bitstr')) {\n      var data = new DecoderBuffer(result);\n      result = this._getUse(state.contains, input._reporterState.obj)\n          ._decode(data, options);\n    }\n  }\n\n  // Pop object\n  if (state.obj && present)\n    result = input.leaveObject(prevObj);\n\n  // Set key\n  if (state.key !== null && (result !== null || present === true))\n    input.leaveKey(prevKey, state.key, result);\n  else if (prevKey !== null)\n    input.exitKey(prevKey);\n\n  return result;\n};\n\nNode.prototype._decodeGeneric = function decodeGeneric(tag, input, options) {\n  var state = this._baseState;\n\n  if (tag === 'seq' || tag === 'set')\n    return null;\n  if (tag === 'seqof' || tag === 'setof')\n    return this._decodeList(input, tag, state.args[0], options);\n  else if (/str$/.test(tag))\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'objid' && state.args)\n    return this._decodeObjid(input, state.args[0], state.args[1], options);\n  else if (tag === 'objid')\n    return this._decodeObjid(input, null, null, options);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._decodeTime(input, tag, options);\n  else if (tag === 'null_')\n    return this._decodeNull(input, options);\n  else if (tag === 'bool')\n    return this._decodeBool(input, options);\n  else if (tag === 'objDesc')\n    return this._decodeStr(input, tag, options);\n  else if (tag === 'int' || tag === 'enum')\n    return this._decodeInt(input, state.args && state.args[0], options);\n\n  if (state.use !== null) {\n    return this._getUse(state.use, input._reporterState.obj)\n        ._decode(input, options);\n  } else {\n    return input.error('unknown tag: ' + tag);\n  }\n};\n\nNode.prototype._getUse = function _getUse(entity, obj) {\n\n  var state = this._baseState;\n  // Create altered use decoder if implicit is set\n  state.useDecoder = this._use(entity, obj);\n  assert(state.useDecoder._baseState.parent === null);\n  state.useDecoder = state.useDecoder._baseState.children[0];\n  if (state.implicit !== state.useDecoder._baseState.implicit) {\n    state.useDecoder = state.useDecoder.clone();\n    state.useDecoder._baseState.implicit = state.implicit;\n  }\n  return state.useDecoder;\n};\n\nNode.prototype._decodeChoice = function decodeChoice(input, options) {\n  var state = this._baseState;\n  var result = null;\n  var match = false;\n\n  Object.keys(state.choice).some(function(key) {\n    var save = input.save();\n    var node = state.choice[key];\n    try {\n      var value = node._decode(input, options);\n      if (input.isError(value))\n        return false;\n\n      result = { type: key, value: value };\n      match = true;\n    } catch (e) {\n      input.restore(save);\n      return false;\n    }\n    return true;\n  }, this);\n\n  if (!match)\n    return input.error('Choice not matched');\n\n  return result;\n};\n\n//\n// Encoding\n//\n\nNode.prototype._createEncoderBuffer = function createEncoderBuffer(data) {\n  return new EncoderBuffer(data, this.reporter);\n};\n\nNode.prototype._encode = function encode(data, reporter, parent) {\n  var state = this._baseState;\n  if (state['default'] !== null && state['default'] === data)\n    return;\n\n  var result = this._encodeValue(data, reporter, parent);\n  if (result === undefined)\n    return;\n\n  if (this._skipDefault(result, reporter, parent))\n    return;\n\n  return result;\n};\n\nNode.prototype._encodeValue = function encode(data, reporter, parent) {\n  var state = this._baseState;\n\n  // Decode root node\n  if (state.parent === null)\n    return state.children[0]._encode(data, reporter || new Reporter());\n\n  var result = null;\n\n  // Set reporter to share it with a child class\n  this.reporter = reporter;\n\n  // Check if data is there\n  if (state.optional && data === undefined) {\n    if (state['default'] !== null)\n      data = state['default']\n    else\n      return;\n  }\n\n  // Encode children first\n  var content = null;\n  var primitive = false;\n  if (state.any) {\n    // Anything that was given is translated to buffer\n    result = this._createEncoderBuffer(data);\n  } else if (state.choice) {\n    result = this._encodeChoice(data, reporter);\n  } else if (state.contains) {\n    content = this._getUse(state.contains, parent)._encode(data, reporter);\n    primitive = true;\n  } else if (state.children) {\n    content = state.children.map(function(child) {\n      if (child._baseState.tag === 'null_')\n        return child._encode(null, reporter, data);\n\n      if (child._baseState.key === null)\n        return reporter.error('Child should have a key');\n      var prevKey = reporter.enterKey(child._baseState.key);\n\n      if (typeof data !== 'object')\n        return reporter.error('Child expected, but input is not object');\n\n      var res = child._encode(data[child._baseState.key], reporter, data);\n      reporter.leaveKey(prevKey);\n\n      return res;\n    }, this).filter(function(child) {\n      return child;\n    });\n    content = this._createEncoderBuffer(content);\n  } else {\n    if (state.tag === 'seqof' || state.tag === 'setof') {\n      // TODO(indutny): this should be thrown on DSL level\n      if (!(state.args && state.args.length === 1))\n        return reporter.error('Too many args for : ' + state.tag);\n\n      if (!Array.isArray(data))\n        return reporter.error('seqof/setof, but data is not Array');\n\n      var child = this.clone();\n      child._baseState.implicit = null;\n      content = this._createEncoderBuffer(data.map(function(item) {\n        var state = this._baseState;\n\n        return this._getUse(state.args[0], data)._encode(item, reporter);\n      }, child));\n    } else if (state.use !== null) {\n      result = this._getUse(state.use, parent)._encode(data, reporter);\n    } else {\n      content = this._encodePrimitive(state.tag, data);\n      primitive = true;\n    }\n  }\n\n  // Encode data itself\n  var result;\n  if (!state.any && state.choice === null) {\n    var tag = state.implicit !== null ? state.implicit : state.tag;\n    var cls = state.implicit === null ? 'universal' : 'context';\n\n    if (tag === null) {\n      if (state.use === null)\n        reporter.error('Tag could be omitted only for .use()');\n    } else {\n      if (state.use === null)\n        result = this._encodeComposite(tag, primitive, cls, content);\n    }\n  }\n\n  // Wrap in explicit\n  if (state.explicit !== null)\n    result = this._encodeComposite(state.explicit, false, 'context', result);\n\n  return result;\n};\n\nNode.prototype._encodeChoice = function encodeChoice(data, reporter) {\n  var state = this._baseState;\n\n  var node = state.choice[data.type];\n  if (!node) {\n    assert(\n        false,\n        data.type + ' not found in ' +\n            JSON.stringify(Object.keys(state.choice)));\n  }\n  return node._encode(data.value, reporter);\n};\n\nNode.prototype._encodePrimitive = function encodePrimitive(tag, data) {\n  var state = this._baseState;\n\n  if (/str$/.test(tag))\n    return this._encodeStr(data, tag);\n  else if (tag === 'objid' && state.args)\n    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);\n  else if (tag === 'objid')\n    return this._encodeObjid(data, null, null);\n  else if (tag === 'gentime' || tag === 'utctime')\n    return this._encodeTime(data, tag);\n  else if (tag === 'null_')\n    return this._encodeNull();\n  else if (tag === 'int' || tag === 'enum')\n    return this._encodeInt(data, state.args && state.reverseArgs[0]);\n  else if (tag === 'bool')\n    return this._encodeBool(data);\n  else if (tag === 'objDesc')\n    return this._encodeStr(data, tag);\n  else\n    throw new Error('Unsupported tag: ' + tag);\n};\n\nNode.prototype._isNumstr = function isNumstr(str) {\n  return /^[0-9 ]*$/.test(str);\n};\n\nNode.prototype._isPrintstr = function isPrintstr(str) {\n  return /^[A-Za-z0-9 '\\(\\)\\+,\\-\\.\\/:=\\?]*$/.test(str);\n};\n\n};"],
"names":["shadow$provide","global","require","module","exports","Node","enc","parent","state","_baseState","children","tag","args","reverseArgs","choice","optional","any","obj","use","useDecoder","key","explicit","implicit","contains","_wrap","Reporter","EncoderBuffer","DecoderBuffer","assert","tags","methods","concat","stateProps","prototype","clone","Node.prototype.clone","cstate","forEach","prop","res","constructor","Node.prototype._wrap","method","push","apply","arguments","_init","Node.prototype._init","body","call","filter","child","equal","length","_useArgs","Node.prototype._useArgs","arg","map","Object","keys","value","overrided","Error","Array","slice","Node.prototype.use","item","Node.prototype.optional","def","Node.prototype.def","val","Node.prototype.explicit","num","Node.prototype.implicit","Node.prototype.obj","Node.prototype.key","newKey","Node.prototype.any","Node.prototype.choice","Node.prototype.contains","_decode","Node.prototype._decode","input","options","wrapResult","result","present","prevKey","enterKey","_peekTag","isError","save","_decodeGeneric","_decodeChoice","e","restore","prevObj","enterObject","_decodeTag","start","offset","raw","track","path","decodeChildren","data","_getUse","_reporterState","leaveObject","exitKey","leaveKey","Node.prototype._decodeGeneric","_decodeList","test","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeBool","_decodeInt","error","Node.prototype._getUse","entity","_use","Node.prototype._decodeChoice","match","some","node","type","_createEncoderBuffer","Node.prototype._createEncoderBuffer","reporter","_encode","Node.prototype._encode","_encodeValue","undefined","_skipDefault","Node.prototype._encodeValue","content","primitive","_encodeChoice","isArray","_encodePrimitive","cls","_encodeComposite","Node.prototype._encodeChoice","JSON","stringify","Node.prototype._encodePrimitive","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool","_isNumstr","Node.prototype._isNumstr","str","_isPrintstr","Node.prototype._isPrintstr"]
}
